<app-header />

<main class="order-page">
    <div class="order-container">

        <!-- Header -->
        <div class="order-header">
            <div class="order-success-badge">‚úì Order Confirmed</div>
            <h1 class="order-title">Thank you for your order!</h1>
            <p class="order-meta">
                <span class="order-id">Order ID: <strong>{{ orderId }}</strong></span>
                <span class="order-date">{{ orderDate }}</span>
            </p>
        </div>

        <div class="order-body">

            <!-- Left Column -->
            <div class="order-left">

                <!-- Shipping Info -->
                <section class="order-card">
                    <h2 class="card-title">
                        <span class="card-icon">üì¶</span> Shipping Information
                    </h2>
                    <div class="info-grid">
                        <div class="info-row">
                            <span class="info-label">Name</span>
                            <span class="info-value">{{ shippingInfo.fullName }}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Phone</span>
                            <span class="info-value">{{ shippingInfo.phone }}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Email</span>
                            <span class="info-value">{{ shippingInfo.email }}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Address</span>
                            <span class="info-value">
                                {{ shippingInfo.address1 }}
                                <ng-container *ngIf="shippingInfo.address2">
                                    , {{ shippingInfo.address2 }}
                                </ng-container>
                            </span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">City</span>
                            <span class="info-value">{{ shippingInfo.city }}, {{ shippingInfo.postalCode }}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">State</span>
                            <span class="info-value">{{ shippingInfo.state }}, {{ shippingInfo.country }}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Method</span>
                            <span class="info-value delivery-badge">
                                {{ deliveryMode === 'deliver' ? 'üöö Item Delivering' : 'üè™ Self-Pickup' }}
                            </span>
                        </div>
                    </div>
                </section>

                <!-- Order Items -->
                <section class="order-card">
                    <h2 class="card-title">
                        <span class="card-icon">üõí</span> Order Items
                    </h2>
                    <div class="order-items">
                        <div class="order-item" *ngFor="let item of items; let i = index">
                            <span class="item-index">{{ i + 1 }}.</span>
                            <img [src]="item.image" [alt]="item.name" class="item-img" />
                            <div class="item-info">
                                <p class="item-name">{{ item.name }}</p>
                                <p class="item-meta">{{ item.brand }} ¬∑ {{ item.type }}</p>
                            </div>
                            <div class="item-right">
                                <span class="item-qty">x{{ item.quantity }}</span>
                                <span class="item-price">RM {{ (item.price * item.quantity).toFixed(2) }}</span>
                            </div>
                        </div>
                    </div>
                </section>

            </div>

            <!-- Right Column: Price Summary -->
            <aside class="order-summary">
                <h2 class="card-title">
                    <span class="card-icon">üßæ</span> Price Summary
                </h2>

                <div class="summary-items">
                    <div class="summary-item-row" *ngFor="let item of items">
                        <span>{{ item.name }} <span class="qty-tag">x{{ item.quantity }}</span></span>
                        <span>RM {{ (item.price * item.quantity).toFixed(2) }}</span>
                    </div>
                </div>

                <div class="summary-divider"></div>

                <div class="summary-row">
                    <span>Subtotal</span>
                    <span>RM {{ subtotal.toFixed(2) }}</span>
                </div>
                <div class="summary-row" *ngIf="deliveryMode === 'deliver'">
                    <span>Shipping Fee</span>
                    <span>RM {{ shippingFee.toFixed(2) }}</span>
                </div>
                <div class="summary-row">
                    <span>Tax (8%)</span>
                    <span>RM {{ tax.toFixed(2) }}</span>
                </div>

                <div class="summary-divider"></div>

                <div class="summary-row total-row">
                    <span>Total</span>
                    <span>RM {{ total.toFixed(2) }}</span>
                </div>

                <div class="order-id-box">
                    <p class="order-id-label">Order Reference</p>
                    <p class="order-id-value">{{ orderId }}</p>
                </div>

                <a routerLink="/" class="home-btn">Back to Home</a>
            </aside>

        </div>
    </div>
</main>

<app-footer />